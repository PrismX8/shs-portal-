<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Chat - SHS Game Hall</title>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3290829368025891"
     crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<link rel="stylesheet" href="styles.css">
<link rel="ads.txt" href="ads.txt">
</head>
<body>
<canvas id="starCanvas"></canvas>
<canvas id="interactiveBackground"></canvas>

<!-- Navigation -->
<nav class="main-navigation">
    <div class="nav-container">
        <a href="index.html" class="nav-logo">
            <i class="fas fa-gamepad"></i> SHS Game Hall
        </a>
        <div class="nav-links">
            <a href="index.html" class="nav-link">
                <i class="fas fa-home"></i> Home
            </a>
            <a href="chat.html" class="nav-link active">
                <i class="fas fa-comments"></i> Chat
            </a>
            <a href="profile.html" class="nav-link">
                <i class="fas fa-user-circle"></i> Profile
            </a>
            <a href="leaderboard.html" class="nav-link">
                <i class="fas fa-medal"></i> Leaderboard
            </a>
            <a href="friends.html" class="nav-link">
                <i class="fas fa-user-friends"></i> Friends
            </a>
            <a href="drawing.html" class="nav-link">
                <i class="fas fa-paint-brush"></i> Drawing
            </a>
        </div>
        <div class="nav-actions">
            <button id="adminBtn" title="Admin Panel" class="nav-icon-btn">
                <i class="fas fa-cog"></i>
            </button>
            <button id="themeBtn" title="Themes" class="nav-icon-btn">
                <i class="fas fa-palette"></i>
            </button>
        </div>
    </div>
</nav>

<!-- Visitor Counter -->
<div id="visitorCounter" class="animate-on-scroll">
    <span id="onlineCount">0</span> Online | <span id="totalCount">0</span> Total Visitors
    <span class="status-indicator online" style="margin-left: 12px;"></span>
</div>

<!-- Main Content -->
<div class="page-container">
    <div class="page-header">
        <h1><i class="fas fa-comments"></i> Chat</h1>
        <p>Connect with other players in real-time</p>
    </div>

    <!-- Chat Container - Always Visible on Chat Page -->
    <div id="chatContainer" class="chat-container" style="display:block;">
        <!-- Chat Header -->
        <div class="chat-header">
            <div class="chat-header-left">
                <div class="chat-icon-wrapper">
                    <i class="fas fa-comments"></i>
                </div>
                <div>
                    <h3 class="chat-title">Chat</h3>
                    <span id="typingIndicator" class="typing-indicator"></span>
                </div>
            </div>
            <div class="chat-header-right">
                <button id="chatSettingsBtn" class="chat-header-btn" title="Settings">
                    <i class="fas fa-cog"></i>
                </button>
                <button id="expandChatBtn" class="chat-header-btn" title="Expand Chat">
                    <i class="fas fa-expand"></i>
                </button>
            </div>
        </div>

        <!-- Chat Messages Area -->
        <div id="chatMessages" class="chat-messages"></div>

        <!-- Chat Input Area -->
        <div class="chat-input-area">
            <div class="chat-toolbar">
                <button id="emojiBtn" class="chat-toolbar-btn" title="Emoji Picker">
                    <i class="fas fa-smile"></i>
                </button>
                <button id="voiceChatBtn" class="chat-toolbar-btn" title="Hold to record voice message">
                    <i class="fas fa-microphone"></i>
                </button>
                <button id="attachLinkBtn" class="chat-toolbar-btn" title="Attach Link">
                    <i class="fas fa-link"></i>
                </button>
                <button id="sendFileBtn" class="chat-toolbar-btn" title="Send File">
                    <i class="fas fa-paperclip"></i>
                </button>
                <button id="changeNameBtn" class="chat-toolbar-btn" title="Change Name/Color">
                    <i class="fas fa-user-edit"></i>
                </button>
            </div>
            <div class="chat-input-wrapper">
                <input type="text" id="chatInput" class="chat-input" placeholder="Type a message...">
                <button id="sendChatBtn" class="chat-send-btn" title="Send">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>

        <!-- Emoji Picker -->
        <div id="emojiPicker" class="emoji-picker" style="display:none;">
            <div class="emoji-grid">
                <span class="emoji-option">ğŸ˜€</span>
                <span class="emoji-option">ğŸ˜‚</span>
                <span class="emoji-option">â¤ï¸</span>
                <span class="emoji-option">ğŸ‘</span>
                <span class="emoji-option">ğŸ‘</span>
                <span class="emoji-option">ğŸ”¥</span>
                <span class="emoji-option">ğŸ‰</span>
                <span class="emoji-option">ğŸ’¯</span>
                <span class="emoji-option">ğŸ˜Š</span>
                <span class="emoji-option">ğŸ˜</span>
                <span class="emoji-option">ğŸ¤”</span>
                <span class="emoji-option">ğŸ˜</span>
                <span class="emoji-option">ğŸ™Œ</span>
                <span class="emoji-option">ğŸ¥³</span>
                <span class="emoji-option">ğŸ¤©</span>
                <span class="emoji-option">ğŸ˜­</span>
            </div>
        </div>

        <!-- Voice Indicator -->
        <div id="voiceIndicator" class="voice-indicator" style="display:none;">
            <i class="fas fa-microphone-alt"></i> Recording... Release to send
        </div>
    </div>
</div>

<!-- Fullscreen Chat Modal -->
<div id="fullScreenChatModal" class="fullscreen-chat-modal" style="display:none;">
    <!-- Include fullscreen chat HTML from index.html -->
</div>

<!-- Chat Name/Color Popup -->
<div id="chatNameColorPopup" class="chat-name-color-popup" style="display:none;">
    <div class="chat-popup-header">
        <h3><i class="fas fa-user-edit"></i> Change Name & Color</h3>
        <button class="chat-popup-close" id="chatPopupCloseBtn">
            <i class="fas fa-times"></i>
        </button>
    </div>
    <div class="chat-popup-content">
        <label class="chat-popup-label">
            <span><i class="fas fa-user"></i> Name:</span>
            <input type="text" id="chatPopupUsername" class="chat-popup-input" placeholder="Enter your name">
        </label>
        <label class="chat-popup-label">
            <span><i class="fas fa-palette"></i> Color:</span>
            <input type="color" id="chatPopupColor" class="chat-popup-color-input" value="#FFD700">
        </label>
        <button id="chatSaveNameColor" class="chat-popup-save-btn">
            <i class="fas fa-check"></i> Save Changes
        </button>
    </div>
</div>

<script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-database.js"></script>
<script src="script.js"></script>
</body>
</html>

