<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>SHS Game Hall</title>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3290829368025891"
     crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<link rel="stylesheet" href="styles.css">
<link rel="ads.txt" href="ads.txt">

</head>
<body>
<canvas id="starCanvas"></canvas>
<canvas id="interactiveBackground"></canvas>
<!-- Cool Intro Loading Screen -->
<div id="introScreen">
  <div class="introParticles"></div>
  <div class="introContent">
    <div class="logoBounce">
      <img src="logoshs.png" alt="Logo" />
    </div>
    <div class="introText">Welcome to SHS Game Hall</div>
    <div class="typingDots"><span></span><span></span><span></span></div>
  </div>
</div>



<div id="visitorCounter" class="animate-on-scroll">
    <span id="onlineCount">0</span> Online | <span id="totalCount">0</span> Total Visitors
    <span class="status-indicator online" style="margin-left: 12px;"></span>
</div>

<!-- Navigation -->
<nav class="main-navigation">
    <div class="nav-container">
        <a href="index.html" class="nav-logo">
            <i class="fas fa-gamepad"></i> SHS Game Hall
        </a>
        <div class="nav-links">
            <a href="index.html" class="nav-link active">
                <i class="fas fa-home"></i> Home
            </a>
            <a href="chat.html" class="nav-link">
                <i class="fas fa-comments"></i> Chat
            </a>
            <a href="profile.html" class="nav-link">
                <i class="fas fa-user-circle"></i> Profile
            </a>
            <a href="leaderboard.html" class="nav-link">
                <i class="fas fa-medal"></i> Leaderboard
            </a>
            <a href="friends.html" class="nav-link">
                <i class="fas fa-user-friends"></i> Friends
            </a>
            <a href="drawing.html" class="nav-link">
                <i class="fas fa-paint-brush"></i> Drawing
            </a>
        </div>
        <div class="nav-actions">
            <button id="adminBtn" title="Admin Panel" class="nav-icon-btn">
                <i class="fas fa-cog"></i>
            </button>
            <button id="youtubeWatcherBtn" title="Watch YouTube Videos Unblocked" class="nav-icon-btn">
                <i class="fab fa-youtube"></i>
            </button>
            <button id="replayTutorialBtn" title="Replay Tutorial" class="nav-icon-btn">
                <i class="fas fa-graduation-cap"></i>
            </button>
            <button id="themeBtn" title="Themes" class="nav-icon-btn">
                <i class="fas fa-palette"></i>
            </button>
        </div>
    </div>
</nav>

<header class="glass-effect animate-on-scroll" style="margin-top: 70px;">
    <div class="headerContent">
        <div class="headerText gradient-text">
        SHS Game Hall <br>
            <small style="font-size: 12px; font-weight: 400; display: block; margin-top: 6px; color: rgba(255, 255, 255, 0.6);">SPS-devices Wi-Fi Password: 7&UI0)jk</small>
    </div>
    </div>
</header>

<div class="controls">
    <div class="control-section active">
        <div class="control-section-header">
            <h3><i class="fas fa-gamepad"></i> Game Controls</h3>
            <i class="fas fa-chevron-down"></i>
        </div>
        <div class="control-group">
            <button id="reloadBtn"><i class="fas fa-redo"></i> Reload</button>
            <button id="fullscreenBtn"><i class="fas fa-expand"></i> Fullscreen</button>
            <button id="zoomInBtn"><i class="fas fa-search-plus"></i> Zoom In</button>
            <button id="zoomOutBtn"><i class="fas fa-search-minus"></i> Zoom Out</button>
            <button id="hideIframeBtn"><i class="fas fa-eye-slash"></i> Hide</button>
            <button id="showIframeBtn"><i class="fas fa-eye"></i> Show</button>
        </div>
    </div>
    <div class="control-section active">
        <div class="control-section-header">
            <h3><i class="fas fa-globe"></i> Sites & Browser</h3>
            <i class="fas fa-chevron-down"></i>
        </div>
        <div class="control-group">
            <button id="extraSiteBtn"><i class="fas fa-gamepad"></i> Extra Site</button>
            <button id="privacyBtn"><i class="fas fa-shield-alt"></i> Browser</button>
        </div>
    </div>
    <div class="control-section active">
        <div class="control-section-header">
            <h3><i class="fas fa-tools"></i> Features</h3>
            <i class="fas fa-chevron-down"></i>
        </div>
        <div class="control-group">
            <a href="drawing.html" class="control-btn"><i class="fas fa-paint-brush"></i> Drawing</a>
            <a href="chat.html" class="control-btn"><i class="fas fa-comments"></i> Chat</a>
            <button id="themeBtn"><i class="fas fa-palette"></i> Themes</button>
            <button id="achievementsBtn"><i class="fas fa-trophy"></i> Achievements</button>
            <button id="statsBtn"><i class="fas fa-chart-bar"></i> Stats</button>
        </div>
    </div>
    <div class="control-section active">
        <div class="control-section-header">
            <h3><i class="fas fa-users"></i> Social</h3>
            <i class="fas fa-chevron-down"></i>
        </div>
        <div class="control-group">
            <a href="profile.html" class="control-btn"><i class="fas fa-user-circle"></i> Profile</a>
            <a href="leaderboard.html" class="control-btn"><i class="fas fa-medal"></i> Leaderboard</a>
            <a href="friends.html" class="control-btn"><i class="fas fa-user-friends"></i> Friends</a>
            <a href="polls.html" class="control-btn"><i class="fas fa-poll"></i> Polls</a>
            <a href="files.html" class="control-btn"><i class="fas fa-folder-open"></i> Files</a>
        </div>
    </div>
</div>

<div id="iframeContainer">
    <iframe id="embeddedSite" src="https://slopegame.online"></iframe>
</div>

<div id="tutorialOverlay">
    <div class="tutorialBubble" id="tutorialBubble">Tutorial text here
        <br><button id="nextTutorialBtn">Next</button>
    </div>
</div>
<div id="tutorialArrow" style="display:none;"></div>

<div id="fullscreenPopup">
    <div class="popupContent" id="popupContent">
        <button class="closeBtn">&times;</button>
        <h1>Welcome to SHS Game Hall</h1>
        <p>Discover unblocked games, browse freely, and enjoy our interactive features.<br>Let's get started!</p>
        <canvas id="sparkleCanvas"></canvas>
    </div>
</div>

<!-- ================= Modern Expandable Chat System ================= -->
<div id="chatContainer" class="chat-container" style="display:none;">
    <!-- Chat Header -->
    <div class="chat-header">
        <div class="chat-header-left">
            <div class="chat-icon-wrapper">
                <i class="fas fa-comments"></i>
            </div>
            <div>
                <h3 class="chat-title">Chat</h3>
                <span id="typingIndicator" class="typing-indicator"></span>
            </div>
        </div>
        <div class="chat-header-right">
            <button id="chatSettingsBtn" class="chat-header-btn" title="Settings">
                <i class="fas fa-cog"></i>
            </button>
            <button id="expandChatBtn" class="chat-header-btn" title="Expand Chat">
                <i class="fas fa-expand"></i>
            </button>
            <button id="minimizeChatBtn" class="chat-header-btn" title="Minimize Chat">
                <i class="fas fa-compress"></i>
            </button>
        </div>
    </div>

    <!-- Chat Messages Area -->
    <div id="chatMessages" class="chat-messages"></div>

    <!-- Chat Input Area -->
    <div class="chat-input-area">
        <div class="chat-toolbar">
            <button id="emojiBtn" class="chat-toolbar-btn" title="Emoji Picker">
                <i class="fas fa-smile"></i>
            </button>
            <button id="voiceChatBtn" class="chat-toolbar-btn" title="Hold to record voice message">
                <i class="fas fa-microphone"></i>
            </button>
            <button id="attachLinkBtn" class="chat-toolbar-btn" title="Attach Link">
                <i class="fas fa-link"></i>
            </button>
            <button id="sendFileBtn" class="chat-toolbar-btn" title="Send File">
                <i class="fas fa-paperclip"></i>
            </button>
            <button id="changeNameBtn" class="chat-toolbar-btn" title="Change Name/Color">
                <i class="fas fa-user-edit"></i>
            </button>
        </div>
        <div class="chat-input-wrapper">
            <input type="text" id="chatInput" class="chat-input" placeholder="Type a message...">
            <button id="sendChatBtn" class="chat-send-btn" title="Send">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>

    <!-- Emoji Picker -->
    <div id="emojiPicker" class="emoji-picker">
        <div class="emoji-grid">
            <span class="emoji-option">ğŸ˜€</span>
            <span class="emoji-option">ğŸ˜‚</span>
            <span class="emoji-option">â¤ï¸</span>
            <span class="emoji-option">ğŸ‘</span>
            <span class="emoji-option">ğŸ‘</span>
            <span class="emoji-option">ğŸ”¥</span>
            <span class="emoji-option">ğŸ‰</span>
            <span class="emoji-option">ğŸ’¯</span>
            <span class="emoji-option">ğŸ˜Š</span>
            <span class="emoji-option">ğŸ˜</span>
            <span class="emoji-option">ğŸ¤”</span>
            <span class="emoji-option">ğŸ˜</span>
            <span class="emoji-option">ğŸ™Œ</span>
            <span class="emoji-option">ğŸ‘</span>
            <span class="emoji-option">ğŸŠ</span>
            <span class="emoji-option">âœ¨</span>
        </div>
    </div>
    <div id="voiceIndicator" class="voice-indicator" style="display:none;">
        <i class="fas fa-microphone"></i> Recording... (Release to send)
    </div>
</div>

<!-- Fullscreen Voice Indicator -->
<div id="fullscreenVoiceIndicator" class="fullscreen-voice-indicator" style="display:none;">
    <i class="fas fa-microphone"></i> Recording... (Release to send)
</div>

<!-- ================= Full-Screen Chat Modal ================= -->
<div id="fullScreenChatModal" class="fullscreen-chat-modal" style="display:none;">
    <div class="fullscreen-chat-container">
        <!-- Full Screen Chat Header -->
        <div class="fullscreen-chat-header">
            <div class="fullscreen-chat-header-left">
                <div class="fullscreen-chat-icon">
                    <i class="fas fa-comments"></i>
                </div>
                <div>
                    <h1 class="fullscreen-chat-title">Chat</h1>
                    <p class="fullscreen-chat-subtitle">Connect with other users</p>
                </div>
            </div>
            <div class="fullscreen-chat-header-right">
                <button id="fullscreenChatSettingsBtn" class="fullscreen-chat-btn" title="Settings">
                    <i class="fas fa-cog"></i>
                </button>
                <button id="fullscreenChatSearchBtn" class="fullscreen-chat-btn" title="Search Messages">
                    <i class="fas fa-search"></i>
                </button>
                <button id="fullscreenChatUsersBtn" class="fullscreen-chat-btn" title="Online Users">
                    <i class="fas fa-users"></i>
                    <span class="fullscreen-chat-badge" id="onlineUsersCount">0</span>
                </button>
                <button id="closeFullscreenChatBtn" class="fullscreen-chat-btn fullscreen-chat-close" title="Close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>

        <!-- Full Screen Chat Content -->
        <div class="fullscreen-chat-content">
            <!-- Sidebar (optional) -->
            <div class="fullscreen-chat-sidebar" id="fullscreenChatSidebar">
                <div class="fullscreen-chat-sidebar-header">
                    <h3>Online Users</h3>
                    <button id="toggleSidebarBtn" class="sidebar-toggle-btn">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                </div>
                <div id="fullscreenChatOnlineUsers" class="fullscreen-chat-online-users"></div>
            </div>

            <!-- Main Chat Area -->
            <div class="fullscreen-chat-main">
                <!-- Search Bar (when active) -->
                <div id="fullscreenChatSearchBar" class="fullscreen-chat-search-bar" style="display:none;">
                    <i class="fas fa-search"></i>
                    <input type="text" id="fullscreenChatSearchInput" placeholder="Search messages...">
                    <button id="closeSearchBtn" class="close-search-btn">
                        <i class="fas fa-times"></i>
                    </button>
                </div>

                <!-- Messages Area -->
                <div id="fullscreenChatMessages" class="fullscreen-chat-messages"></div>

                <!-- Input Area -->
                <div class="fullscreen-chat-input-area">
                    <div class="fullscreen-chat-toolbar">
                        <button id="fullscreenEmojiBtn" class="fullscreen-chat-toolbar-btn" title="Emoji">
                            <i class="fas fa-smile"></i>
                        </button>
                        <button id="fullscreenVoiceBtn" class="fullscreen-chat-toolbar-btn" title="Voice Message">
                            <i class="fas fa-microphone"></i>
                        </button>
                        <button id="fullscreenLinkBtn" class="fullscreen-chat-toolbar-btn" title="Attach Link">
                            <i class="fas fa-link"></i>
                        </button>
                        <button id="fullscreenFileBtn" class="fullscreen-chat-toolbar-btn" title="Send File">
                            <i class="fas fa-paperclip"></i>
                        </button>
                        <button id="fullscreenNameBtn" class="fullscreen-chat-toolbar-btn" title="Change Name/Color">
                            <i class="fas fa-user-edit"></i>
                        </button>
                    </div>
                    <div class="fullscreen-chat-input-wrapper">
                        <input type="text" id="fullscreenChatInput" class="fullscreen-chat-input" placeholder="Type a message...">
                        <button id="fullscreenSendBtn" class="fullscreen-chat-send-btn" title="Send">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                    <div id="fullscreenTypingIndicator" class="fullscreen-typing-indicator"></div>
                </div>
            </div>
        </div>
    </div>
</div><div style="display:grid; grid-template-columns:repeat(8,1fr); gap:8px;">
            <span class="emoji-option" style="cursor:pointer; font-size:20px; padding:5px; text-align:center; border-radius:4px; transition:background 0.2s;">ğŸ˜€</span>
            <span class="emoji-option" style="cursor:pointer; font-size:20px; padding:5px; text-align:center; border-radius:4px; transition:background 0.2s;">ğŸ˜‚</span>
            <span class="emoji-option" style="cursor:pointer; font-size:20px; padding:5px; text-align:center; border-radius:4px; transition:background 0.2s;">â¤ï¸</span>
            <span class="emoji-option" style="cursor:pointer; font-size:20px; padding:5px; text-align:center; border-radius:4px; transition:background 0.2s;">ğŸ‘</span>
            <span class="emoji-option" style="cursor:pointer; font-size:20px; padding:5px; text-align:center; border-radius:4px; transition:background 0.2s;">ğŸ‘</span>
            <span class="emoji-option" style="cursor:pointer; font-size:20px; padding:5px; text-align:center; border-radius:4px; transition:background 0.2s;">ğŸ”¥</span>
            <span class="emoji-option" style="cursor:pointer; font-size:20px; padding:5px; text-align:center; border-radius:4px; transition:background 0.2s;">ğŸ‰</span>
            <span class="emoji-option" style="cursor:pointer; font-size:20px; padding:5px; text-align:center; border-radius:4px; transition:background 0.2s;">ğŸ’¯</span>
        </div>
    </div>
    <div id="voiceIndicator" style="display:none; position:absolute; bottom:50px; left:20px; background:rgba(220,53,69,0.9); color:white; padding:10px 15px; border-radius:8px; font-weight:bold;">
        <i class="fas fa-microphone"></i> Recording... (Release to send)
    </div>
</div>



<div id="chatNameColorPopup" class="chat-name-color-popup" style="display:none;">
    <div class="chat-popup-header">
        <h3><i class="fas fa-user-edit"></i> Change Name & Color</h3>
        <button class="chat-popup-close" id="chatPopupCloseBtn">
            <i class="fas fa-times"></i>
        </button>
    </div>
    <div class="chat-popup-content">
        <label class="chat-popup-label">
            <span><i class="fas fa-user"></i> Name:</span>
            <input type="text" id="chatPopupUsername" class="chat-popup-input" placeholder="Enter your name">
        </label>
        <label class="chat-popup-label">
            <span><i class="fas fa-palette"></i> Color:</span>
            <input type="color" id="chatPopupColor" class="chat-popup-color-input" value="#FFD700">
        </label>
        <button id="chatSaveNameColor" class="chat-popup-save-btn">
            <i class="fas fa-check"></i> Save Changes
        </button>
    </div>
</div>


<!-- Admin Panel -->
<div id="adminModal" style="display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.85); backdrop-filter:blur(10px); z-index:20001; align-items:center; justify-content:center;">
  <div style="width:min(800px, 96%); max-height:90vh; overflow-y:auto; background:rgba(15,15,25,0.95); backdrop-filter:blur(30px); border:1px solid rgba(255,215,0,0.2); border-radius:24px; padding:30px; box-shadow:0 25px 60px rgba(0,0,0,0.5); color:rgba(255,255,255,0.9);">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:24px; padding-bottom:20px; border-bottom:2px solid rgba(255,215,0,0.2);">
      <h2 style="margin:0; color:#FFD700; font-weight:700; font-size:24px; text-shadow:0 2px 10px rgba(255,215,0,0.3); letter-spacing:1px; display:flex; align-items:center; gap:12px;">
        <i class="fas fa-shield-alt" style="font-size:22px; filter:drop-shadow(0 2px 4px rgba(255,215,0,0.4));"></i>
        Admin Panel
      </h2>
      <button id="closeAdminBtn" style="border:none; background:rgba(255,215,0,0.1); color:#FFD700; font-size:24px; cursor:pointer; width:42px; height:42px; border-radius:12px; transition:all 0.3s ease; border:2px solid rgba(255,215,0,0.3); display:flex; align-items:center; justify-content:center; font-weight:bold;">&times;</button>
    </div>
    <div id="adminContent" style="display:none;">
      <div style="display:grid; gap:12px; margin-bottom:24px;">
        <button id="deleteChatHistoryBtn" style="padding:14px 20px; background:#dc3545; border:2px solid #dc3545; color:#ffffff; border-radius:12px; cursor:pointer; font-weight:600; font-size:14px; position:relative; overflow:hidden; display:flex; align-items:center; justify-content:center; gap:10px; box-shadow:0 4px 15px rgba(220,53,69,0.3);">
          <i class="fas fa-trash-alt"></i>
          <span>Delete All Chat History</span>
        </button>
        <button id="clearCanvasAdminBtn" style="padding:14px 20px; background:#ffc107; border:2px solid #ffc107; color:#000; border-radius:12px; cursor:pointer; font-weight:600; font-size:14px; position:relative; overflow:hidden; display:flex; align-items:center; justify-content:center; gap:10px; box-shadow:0 4px 15px rgba(255,193,7,0.3);">
          <i class="fas fa-eraser"></i>
          <span>Clear Canvas</span>
        </button>
        <button id="resetVisitorsBtn" style="padding:14px 20px; background:#007bff; border:2px solid #007bff; color:#ffffff; border-radius:12px; cursor:pointer; font-weight:600; font-size:14px; position:relative; overflow:hidden; display:flex; align-items:center; justify-content:center; gap:10px; box-shadow:0 4px 15px rgba(0,123,255,0.3);">
          <i class="fas fa-redo"></i>
          <span>Reset Total Visitors Count</span>
        </button>
        <button id="logoutAdminBtn" style="padding:14px 20px; background:#6c757d; border:2px solid #6c757d; color:#ffffff; border-radius:12px; cursor:pointer; font-weight:600; font-size:14px; position:relative; overflow:hidden; display:flex; align-items:center; justify-content:center; gap:10px; box-shadow:0 4px 15px rgba(108,117,125,0.3);">
          <i class="fas fa-sign-out-alt"></i>
          <span>Logout</span>
        </button>
      </div>
      <div style="border-top:1px solid rgba(255,215,0,0.1); padding-top:20px; margin-top:20px;">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:18px;">
          <h3 style="color:#FFD700; font-size:18px; margin:0; font-weight:700; display:flex; align-items:center; gap:10px;">
            <i class="fas fa-comments" style="font-size:16px;"></i>
            Manage Chat Messages
          </h3>
          <button id="refreshChatListBtn" style="padding:10px 16px; background:rgba(255,215,0,0.15); border:2px solid rgba(255,215,0,0.4); color:#FFD700; border-radius:10px; cursor:pointer; font-size:13px; font-weight:600; display:flex; align-items:center; gap:8px; transition:all 0.3s ease;">
            <i class="fas fa-sync-alt"></i> 
            <span>Refresh</span>
          </button>
        </div>
        <div id="adminChatList" style="max-height:400px; overflow-y:auto; background:rgba(255,255,255,0.05); border-radius:8px; padding:10px;">
          <p style="text-align:center; color:rgba(255,255,255,0.5);">Loading chat messages...</p>
        </div>
      </div>
    </div>
    <div id="adminPassword">
      <label style="display:block; margin-bottom:12px; color:#FFD700; font-weight:600; font-size:16px; display:flex; align-items:center; gap:10px;">
        <i class="fas fa-lock" style="font-size:14px;"></i>
        Enter Admin Password
      </label>
      <input type="password" id="adminPasswordInput" placeholder="Enter your admin password..." style="width:100%; padding:14px 18px; border:2px solid rgba(255,215,0,0.2); background:rgba(255,255,255,0.05); border-radius:12px; box-sizing:border-box; margin-bottom:16px; color:rgba(255,255,255,0.9); font-size:15px; transition:all 0.3s ease;">
      <button id="adminLoginBtn" style="width:100%; padding:14px; background:linear-gradient(135deg, #007bff, #0056b3); border:2px solid rgba(0,123,255,0.5); color:#ffffff; border-radius:12px; cursor:pointer; font-weight:700; font-size:15px; text-transform:uppercase; letter-spacing:1px; box-shadow:0 4px 15px rgba(0,123,255,0.3); display:flex; align-items:center; justify-content:center; gap:10px; position:relative; overflow:hidden;">
        <i class="fas fa-sign-in-alt"></i>
        <span>Login</span>
      </button>
    </div>
  </div>
</div>

<!-- ================ NEW: drawing modal (hidden by default) ================ -->
<div id="drawingModal" aria-hidden="true">
  <div class="modalInner" role="dialog" aria-modal="true" aria-label="Shared Drawing Canvas">
    <button class="closeDrawing" id="closeDrawingBtn" title="Close Drawing">&times;</button>

    <!-- Shared Drawing Canvas UI (drop-in) -->
    <div id="sharedCanvasContainer" style="position:relative;">
      <div style="display:flex; gap:8px; align-items:center; margin-bottom:8px; flex-wrap:wrap;">
        <button id="toggleCanvasBtn">Open/Close Canvas</button>

        <div style="display:flex; gap:6px; align-items:center; padding:6px 8px; background:#f0f0f0; border-radius:4px; border:1px solid #ccc;">
          <button id="brushToolBtn" title="Brush Tool" style="padding:6px 10px; border:1px solid #007bff; background:#007bff; color:#ffffff; border-radius:4px; cursor:pointer; font-weight:500; transition:all 0.2s ease;">âœ Brush</button>
          <button id="eraserToolBtn" title="Eraser Tool" style="padding:6px 10px; border:1px solid #ccc; background:#ffffff; color:#333; border-radius:4px; cursor:pointer; font-weight:500; transition:all 0.2s ease;">ğŸ—‘ Eraser</button>
          <button id="rectangleToolBtn" title="Rectangle Tool" style="padding:6px 10px; border:1px solid #ccc; background:#ffffff; color:#333; border-radius:4px; cursor:pointer; font-weight:500; transition:all 0.2s ease;">â–­ Rectangle</button>
          <button id="circleToolBtn" title="Circle Tool" style="padding:6px 10px; border:1px solid #ccc; background:#ffffff; color:#333; border-radius:4px; cursor:pointer; font-weight:500; transition:all 0.2s ease;">â—‹ Circle</button>
          <button id="lineToolBtn" title="Line Tool" style="padding:6px 10px; border:1px solid #ccc; background:#ffffff; color:#333; border-radius:4px; cursor:pointer; font-weight:500; transition:all 0.2s ease;">â” Line</button>
          <button id="textToolBtn" title="Text Tool" style="padding:6px 10px; border:1px solid #ccc; background:#ffffff; color:#333; border-radius:4px; cursor:pointer; font-weight:500; transition:all 0.2s ease;">T Text</button>
        </div>

        <label style="display:flex;align-items:center;gap:6px;">
          <input id="colorPicker" type="color" value="#007bff" title="Brush Color">
        </label>
        <label style="display:flex;align-items:center;gap:6px;">
          <span style="font-size:12px; color:#999;">Size:</span>
          <input id="sizeSlider" type="range" min="1" max="50" value="4">
          <small id="sizeLabel" style="min-width:25px;">4</small>
        </label>
        <label style="display:flex;align-items:center;gap:6px;">
          <span style="font-size:12px; color:#999;">Opacity:</span>
          <input id="opacitySlider" type="range" min="0.1" max="1" step="0.1" value="1">
          <small id="opacityLabel" style="min-width:25px;">1</small>
        </label>
        <label style="display:flex;align-items:center;gap:6px;">
          <input id="fillCheckbox" type="checkbox" title="Fill Shapes">
          <span style="font-size:12px; color:#999;">Fill</span>
        </label>
        <button id="undoBtn" title="Undo" style="padding:6px 8px;border-radius:4px;border:1px solid #28a745;background:#28a745;color:#ffffff;cursor:pointer;font-weight:500;">â†¶ Undo</button>
        <button id="eyedropperBtn" title="Eyedropper" style="padding:6px 8px;border-radius:4px;border:1px solid #ccc;background:#ffffff;color:#333;cursor:pointer;font-weight:500;">ğŸ’§ Eyedropper</button>
        <button id="saveBtn" title="Save Drawing" style="padding:6px 8px;border-radius:4px;border:1px solid #007bff;background:#007bff;color:#ffffff;cursor:pointer;font-weight:500;">ğŸ’¾ Save</button>
        <button id="loadBtn" title="Load Drawing" style="padding:6px 8px;border-radius:4px;border:1px solid #ccc;background:#ffffff;color:#333;cursor:pointer;font-weight:500;">ğŸ“ Load</button>
        <button id="zoomInBtn" title="Zoom In" style="padding:6px 8px;border-radius:4px;border:1px solid #28a745;background:#28a745;color:#ffffff;cursor:pointer;font-weight:500;">ğŸ”+</button>
        <button id="zoomOutBtn" title="Zoom Out" style="padding:6px 8px;border-radius:4px;border:1px solid #28a745;background:#28a745;color:#ffffff;cursor:pointer;font-weight:500;">ğŸ”-</button>
        <button id="clearCanvasBtn" style="padding:6px 8px;border-radius:4px;border:1px solid #dc3545;background:#dc3545;color:#ffffff;cursor:pointer;font-weight:500;">Clear</button>
        <div style="margin-left:auto; font-size:12px; color:#777;">Shared canvas (Realtime)</div>
      </div>

      <div id="canvasArea" style="position:relative; background:rgba(255,255,255,0.05); border-radius:12px; padding:15px; box-shadow: 0 4px 15px rgba(0,0,0,0.2);">
        <canvas id="sharedCanvas" width="800" height="500" style="display:block; touch-action:none;"></canvas>
        <canvas id="cursorOverlay" width="800" height="500" style="position:absolute; top:15px; left:15px; cursor:crosshair; background:transparent; border-radius:12px;"></canvas>
        <div style="padding:12px; margin-top:10px; font-size:13px; color:rgba(255,255,255,0.7); background:rgba(255,215,0,0.1); border-radius:8px; border-left:3px solid rgba(255,215,0,0.5);">
          <i class="fas fa-info-circle" style="color:#FFD700; margin-right:8px;"></i>
          <strong style="color:#FFD700;">Shared Canvas:</strong> Draw and everyone will see it in real-time. Your drawings are saved permanently across all devices and sessions.
        </div>
      </div>
    </div>
    <!-- end shared UI -->
  </div>
</div>
<!-- ====================================================================== -->

<!-- ================ Theme Customizer Modal ================ -->
<div id="themeModal" style="display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.85); backdrop-filter:blur(10px); z-index:15000; align-items:center; justify-content:center;">
  <div style="width:min(650px, 95%); background:rgba(15,15,25,0.95); backdrop-filter:blur(30px); border-radius:24px; padding:30px; box-shadow:0 25px 60px rgba(0,0,0,0.5); border:1px solid rgba(255,215,0,0.2); color:rgba(255,255,255,0.9);">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:24px; padding-bottom:16px; border-bottom:1px solid rgba(255,215,0,0.1);">
      <h2 style="margin:0; color:#FFD700; font-weight:600; font-size:20px;"><i class="fas fa-palette"></i> Theme Customizer</h2>
      <button id="closeThemeBtn" style="border:none; background:rgba(255,215,0,0.1); color:#FFD700; font-size:20px; cursor:pointer; width:38px; height:38px; border-radius:12px; transition:all 0.3s ease; border:1px solid rgba(255,215,0,0.2);">&times;</button>
    </div>

    <div style="display:grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap:15px; margin-bottom:25px;">
      <button class="theme-option" data-theme="default" style="padding:15px; border:2px solid #007bff; background:linear-gradient(135deg, #0f0f1a, #1a1a2a); color:#00d4ff; border-radius:8px; cursor:pointer; font-weight:600; transition:all 0.3s ease;">
        <div style="font-size:18px; margin-bottom:5px;">ğŸŒ™</div>
        Default Dark
      </button>
      <button class="theme-option" data-theme="light" style="padding:15px; border:2px solid #ccc; background:linear-gradient(135deg, #f8f9fa, #e9ecef); color:#333; border-radius:8px; cursor:pointer; font-weight:600; transition:all 0.3s ease;">
        <div style="font-size:18px; margin-bottom:5px;">â˜€ï¸</div>
        Light Mode
      </button>
      <button class="theme-option" data-theme="neon" style="padding:15px; border:2px solid #ff00ff; background:linear-gradient(135deg, #0a0e27, #1a1a3e); color:#00ffff; border-radius:8px; cursor:pointer; font-weight:600; transition:all 0.3s ease; box-shadow:0 0 15px rgba(255,0,255,0.3);">
        <div style="font-size:18px; margin-bottom:5px;">âš¡</div>
        Neon Glow
      </button>
      <button class="theme-option" data-theme="ocean" style="padding:15px; border:2px solid #00ffff; background:linear-gradient(135deg, #001122, #003344); color:#00ffff; border-radius:8px; cursor:pointer; font-weight:600; transition:all 0.3s ease;">
        <div style="font-size:18px; margin-bottom:5px;">ğŸŒŠ</div>
        Ocean Blue
      </button>
      <button class="theme-option" data-theme="forest" style="padding:15px; border:2px solid #00aa00; background:linear-gradient(135deg, #0a1a0a, #1a2a1a); color:#00ff88; border-radius:8px; cursor:pointer; font-weight:600; transition:all 0.3s ease;">
        <div style="font-size:18px; margin-bottom:5px;">ğŸŒ²</div>
        Forest Green
      </button>
      <button class="theme-option" data-theme="sunset" style="padding:15px; border:2px solid #ff6600; background:linear-gradient(135deg, #2a1810, #3a2415); color:#ffaa00; border-radius:8px; cursor:pointer; font-weight:600; transition:all 0.3s ease;">
        <div style="font-size:18px; margin-bottom:5px;">ğŸŒ…</div>
        Sunset Orange
      </button>
    </div>

    <div style="border-top:1px solid #eee; padding-top:20px;">
      <h3 style="margin:0 0 15px 0; color:#007bff;">Seasonal Themes</h3>
      <div style="display:flex; gap:10px; flex-wrap:wrap;">
        <button class="seasonal-theme" data-season="christmas" style="padding:10px 15px; background:#c41e3a; color:white; border:none; border-radius:6px; cursor:pointer; font-weight:500;">
          ğŸ„ Christmas
        </button>
        <button class="seasonal-theme" data-season="halloween" style="padding:10px 15px; background:#ff6600; color:black; border:none; border-radius:6px; cursor:pointer; font-weight:500;">
          ğŸƒ Halloween
        </button>
        <button class="seasonal-theme" data-season="spring" style="padding:10px 15px; background:#98fb98; color:#333; border:none; border-radius:6px; cursor:pointer; font-weight:500;">
          ğŸŒ¸ Spring
        </button>
        <button class="seasonal-theme" data-season="summer" style="padding:10px 15px; background:#ffd700; color:#333; border:none; border-radius:6px; cursor:pointer; font-weight:500;">
          â˜€ï¸ Summer
        </button>
      </div>
    </div>
  </div>
</div>
<!-- ====================================================================== -->

<!-- ================ Achievements Modal ================ -->
<div id="achievementsModal" style="display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.85); backdrop-filter:blur(10px); z-index:14000; align-items:center; justify-content:center;">
  <div style="width:min(750px, 95%); max-height:80%; overflow-y:auto; background:rgba(15,15,25,0.95); backdrop-filter:blur(30px); border-radius:24px; padding:30px; box-shadow:0 25px 60px rgba(0,0,0,0.5); border:1px solid rgba(255,215,0,0.2); color:rgba(255,255,255,0.9);">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:24px; padding-bottom:16px; border-bottom:1px solid rgba(255,215,0,0.1);">
      <h2 style="margin:0; color:#FFD700; font-weight:600; font-size:20px;"><i class="fas fa-trophy"></i> Achievements</h2>
      <button id="closeAchievementsBtn" style="border:none; background:rgba(255,215,0,0.1); color:#FFD700; font-size:20px; cursor:pointer; width:38px; height:38px; border-radius:12px; transition:all 0.3s ease; border:1px solid rgba(255,215,0,0.2);">&times;</button>
    </div>

    <div style="display:grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap:15px; margin-bottom:25px;">
      <div class="achievement-card" id="chatBadge" style="padding:20px; border:2px solid #ccc; border-radius:8px; text-align:center; background:#f8f9fa;">
        <div style="font-size:48px; margin-bottom:10px;">ğŸ’¬</div>
        <h3 style="margin:5px 0; color:#333;">Chat Master</h3>
        <p style="margin:5px 0; font-size:14px; color:#666;">Send 10 chat messages</p>
        <div class="progress-bar" style="width:100%; height:8px; background:#e9ecef; border-radius:4px; margin-top:10px;">
          <div class="progress-fill" id="chatProgress" style="height:100%; background:#007bff; border-radius:4px; width:0%; transition:width 0.3s ease;"></div>
        </div>
        <small id="chatCount" style="color:#666;">0/10</small>
      </div>

      <div class="achievement-card" id="drawBadge" style="padding:20px; border:2px solid #ccc; border-radius:8px; text-align:center; background:#f8f9fa;">
        <div style="font-size:48px; margin-bottom:10px;">ğŸ¨</div>
        <h3 style="margin:5px 0; color:#333;">Artist</h3>
        <p style="margin:5px 0; font-size:14px; color:#666;">Draw for 30 minutes</p>
        <div class="progress-bar" style="width:100%; height:8px; background:#e9ecef; border-radius:4px; margin-top:10px;">
          <div class="progress-fill" id="drawProgress" style="height:100%; background:#28a745; border-radius:4px; width:0%; transition:width 0.3s ease;"></div>
        </div>
        <small id="drawCount" style="color:#666;">0/30 min</small>
      </div>

      <div class="achievement-card" id="gameBadge" style="padding:20px; border:2px solid #ccc; border-radius:8px; text-align:center; background:#f8f9fa;">
        <div style="font-size:48px; margin-bottom:10px;">ğŸ®</div>
        <h3 style="margin:5px 0; color:#333;">Gamer</h3>
        <p style="margin:5px 0; font-size:14px; color:#666;">Play games for 1 hour</p>
        <div class="progress-bar" style="width:100%; height:8px; background:#e9ecef; border-radius:4px; margin-top:10px;">
          <div class="progress-fill" id="gameProgress" style="height:100%; background:#ffc107; border-radius:4px; width:0%; transition:width 0.3s ease;"></div>
        </div>
        <small id="gameCount" style="color:#666;">0/60 min</small>
      </div>

      <div class="achievement-card" id="socialBadge" style="padding:20px; border:2px solid #ccc; border-radius:8px; text-align:center; background:#f8f9fa;">
        <div style="font-size:48px; margin-bottom:10px;">ğŸ‘¥</div>
        <h3 style="margin:5px 0; color:#333;">Social Butterfly</h3>
        <p style="margin:5px 0; font-size:14px; color:#666;">Be online for 2 hours</p>
        <div class="progress-bar" style="width:100%; height:8px; background:#e9ecef; border-radius:4px; margin-top:10px;">
          <div class="progress-fill" id="socialProgress" style="height:100%; background:#e83e8c; border-radius:4px; width:0%; transition:width 0.3s ease;"></div>
        </div>
        <small id="socialCount" style="color:#666;">0/120 min</small>
      </div>

      <div class="achievement-card" id="explorerBadge" style="padding:20px; border:2px solid #ccc; border-radius:8px; text-align:center; background:#f8f9fa;">
        <div style="font-size:48px; margin-bottom:10px;">ğŸ—ºï¸</div>
        <h3 style="margin:5px 0; color:#333;">Explorer</h3>
        <p style="margin:5px 0; font-size:14px; color:#666;">Visit all game sites</p>
        <div class="progress-bar" style="width:100%; height:8px; background:#e9ecef; border-radius:4px; margin-top:10px;">
          <div class="progress-fill" id="explorerProgress" style="height:100%; background:#17a2b8; border-radius:4px; width:0%; transition:width 0.3s ease;"></div>
        </div>
        <small id="explorerCount" style="color:#666;">0/2</small>
      </div>

      <div class="achievement-card" id="themeBadge" style="padding:20px; border:2px solid #ccc; border-radius:8px; text-align:center; background:#f8f9fa;">
        <div style="font-size:48px; margin-bottom:10px;">ğŸ¨</div>
        <h3 style="margin:5px 0; color:#333;">Stylist</h3>
        <p style="margin:5px 0; font-size:14px; color:#666;">Try 3 different themes</p>
        <div class="progress-bar" style="width:100%; height:8px; background:#e9ecef; border-radius:4px; margin-top:10px;">
          <div class="progress-fill" id="themeProgress" style="height:100%; background:#6f42c1; border-radius:4px; width:0%; transition:width 0.3s ease;"></div>
        </div>
        <small id="themeCount" style="color:#666;">0/3</small>
      </div>
    </div>

    <div style="border-top:1px solid #eee; padding-top:20px;">
      <h3 style="margin:0 0 15px 0; color:#007bff;">Daily Challenges</h3>
      <div style="display:grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap:10px;">
        <div class="daily-challenge" style="padding:15px; border:1px solid #dee2e6; border-radius:8px; background:#f8f9fa;">
          <h4 style="margin:0 0 10px 0; color:#007bff;">Today's Goal</h4>
          <p style="margin:0; font-size:14px;">Send 5 messages in chat</p>
          <div class="progress-bar" style="width:100%; height:6px; background:#e9ecef; border-radius:3px; margin-top:10px;">
            <div class="progress-fill" id="dailyProgress" style="height:100%; background:#28a745; border-radius:3px; width:0%; transition:width 0.3s ease;"></div>
          </div>
          <small id="dailyCount" style="color:#666;">0/5</small>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- ====================================================================== -->

<!-- ================ Stats Dashboard Modal ================ -->
<div id="statsModal" style="display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.85); backdrop-filter:blur(10px); z-index:13000; align-items:center; justify-content:center;">
  <div style="width:min(850px, 95%); max-height:80%; overflow-y:auto; background:rgba(15,15,25,0.95); backdrop-filter:blur(30px); border-radius:24px; padding:30px; box-shadow:0 25px 60px rgba(0,0,0,0.5); border:1px solid rgba(255,215,0,0.2); color:rgba(255,255,255,0.9);">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:24px; padding-bottom:16px; border-bottom:1px solid rgba(255,215,0,0.1);">
      <h2 style="margin:0; color:#FFD700; font-weight:600; font-size:20px;"><i class="fas fa-chart-bar"></i> Your Statistics</h2>
      <button id="closeStatsBtn" style="border:none; background:rgba(255,215,0,0.1); color:#FFD700; font-size:20px; cursor:pointer; width:38px; height:38px; border-radius:12px; transition:all 0.3s ease; border:1px solid rgba(255,215,0,0.2);">&times;</button>
    </div>

    <div style="display:grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap:20px; margin-bottom:25px;">
      <div class="stat-card" style="background:#f8f9fa; padding:20px; border-radius:8px; text-align:center; border:1px solid #dee2e6;">
        <div style="font-size:36px; color:#007bff; margin-bottom:10px;"><i class="fas fa-clock"></i></div>
        <h3 style="margin:5px 0; color:#333;">Online Time</h3>
        <div style="font-size:24px; font-weight:bold; color:#007bff;" id="onlineTimeStat">0 min</div>
        <small style="color:#666;">Total time spent online</small>
      </div>

      <div class="stat-card" style="background:#f8f9fa; padding:20px; border-radius:8px; text-align:center; border:1px solid #dee2e6;">
        <div style="font-size:36px; color:#28a745; margin-bottom:10px;"><i class="fas fa-comments"></i></div>
        <h3 style="margin:5px 0; color:#333;">Chat Messages</h3>
        <div style="font-size:24px; font-weight:bold; color:#28a745;" id="chatMessagesStat">0</div>
        <small style="color:#666;">Messages sent</small>
      </div>

      <div class="stat-card" style="background:#f8f9fa; padding:20px; border-radius:8px; text-align:center; border:1px solid #dee2e6;">
        <div style="font-size:36px; color:#ffc107; margin-bottom:10px;"><i class="fas fa-gamepad"></i></div>
        <h3 style="margin:5px 0; color:#333;">Gaming Time</h3>
        <div style="font-size:24px; font-weight:bold; color:#ffc107;" id="gamingTimeStat">0 min</div>
        <small style="color:#666;">Time playing games</small>
      </div>

      <div class="stat-card" style="background:#f8f9fa; padding:20px; border-radius:8px; text-align:center; border:1px solid #e83e8c;">
        <div style="font-size:36px; color:#e83e8c; margin-bottom:10px;"><i class="fas fa-paint-brush"></i></div>
        <h3 style="margin:5px 0; color:#333;">Drawing Time</h3>
        <div style="font-size:24px; font-weight:bold; color:#e83e8c;" id="drawingTimeStat">0 min</div>
        <small style="color:#666;">Time spent drawing</small>
      </div>
    </div>

    <div style="display:grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap:20px;">
      <div style="background:#f8f9fa; padding:20px; border-radius:8px; border:1px solid #dee2e6;">
        <h3 style="margin:0 0 15px 0; color:#007bff;"><i class="fas fa-trophy"></i> Achievement Progress</h3>
        <div style="display:flex; flex-direction:column; gap:10px;">
          <div style="display:flex; justify-content:space-between; align-items:center;">
            <span>Chat Master</span>
            <span id="chatProgressText">0/10</span>
          </div>
          <div style="width:100%; height:8px; background:#e9ecef; border-radius:4px;">
            <div style="height:100%; background:#007bff; border-radius:4px; width:0%; transition:width 0.3s ease;" id="chatProgressBar"></div>
          </div>

          <div style="display:flex; justify-content:space-between; align-items:center;">
            <span>Artist</span>
            <span id="drawProgressText">0/30 min</span>
          </div>
          <div style="width:100%; height:8px; background:#e9ecef; border-radius:4px;">
            <div style="height:100%; background:#28a745; border-radius:4px; width:0%; transition:width 0.3s ease;" id="drawProgressBar"></div>
          </div>

          <div style="display:flex; justify-content:space-between; align-items:center;">
            <span>Gamer</span>
            <span id="gameProgressText">0/60 min</span>
          </div>
          <div style="width:100%; height:8px; background:#e9ecef; border-radius:4px;">
            <div style="height:100%; background:#ffc107; border-radius:4px; width:0%; transition:width 0.3s ease;" id="gameProgressBar"></div>
          </div>
        </div>
      </div>

      <div style="background:#f8f9fa; padding:20px; border-radius:8px; border:1px solid #dee2e6;">
        <h3 style="margin:0 0 15px 0; color:#007bff;"><i class="fas fa-calendar-day"></i> Today's Activity</h3>
        <div style="display:flex; flex-direction:column; gap:10px;">
          <div style="display:flex; justify-content:space-between;">
            <span>Messages Today:</span>
            <span id="dailyMessagesStat">0</span>
          </div>
          <div style="display:flex; justify-content:space-between;">
            <span>Time Online Today:</span>
            <span id="dailyOnlineStat">0 min</span>
          </div>
          <div style="display:flex; justify-content:space-between;">
            <span>Sites Visited:</span>
            <span id="sitesVisitedStat">0</span>
          </div>
          <div style="display:flex; justify-content:space-between;">
            <span>Themes Tried:</span>
            <span id="themesTriedStat">0</span>
          </div>
        </div>
      </div>
    </div>

    <div style="margin-top:20px; padding:15px; background:#e7f3ff; border-radius:8px; border:1px solid #b3d9ff;">
      <h4 style="margin:0 0 10px 0; color:#007bff;"><i class="fas fa-lightbulb"></i> Tips</h4>
      <p style="margin:0; font-size:14px; color:#333;">
        Keep using the site to unlock achievements! Try different themes, chat with friends, and explore all the features.
        Your progress is automatically saved and synced across devices.
      </p>
    </div>
  </div>
</div>
<!-- ====================================================================== -->

<!-- ================ User Profile Modal ================ -->
<div id="profileModal" style="display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.85); backdrop-filter:blur(10px); z-index:16000; align-items:center; justify-content:center;">
  <div style="width:min(600px, 95%); max-height:80%; overflow-y:auto; background:rgba(15,15,25,0.95); backdrop-filter:blur(30px); border-radius:24px; padding:30px; box-shadow:0 25px 60px rgba(0,0,0,0.5); border:1px solid rgba(255,215,0,0.2); color:rgba(255,255,255,0.9);">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:24px; padding-bottom:16px; border-bottom:1px solid rgba(255,215,0,0.1);">
      <h2 style="margin:0; color:#FFD700; font-weight:600; font-size:20px;"><i class="fas fa-user-circle"></i> <span id="profileModalTitle">My Profile</span></h2>
      <button id="closeProfileBtn" style="border:none; background:rgba(255,215,0,0.1); color:#FFD700; font-size:20px; cursor:pointer; width:38px; height:38px; border-radius:12px; transition:all 0.3s ease; border:1px solid rgba(255,215,0,0.2);">&times;</button>
    </div>
    <div style="text-align:center; margin-bottom:20px;">
      <div id="profileAvatarContainer" style="position:relative; display:inline-block; margin-bottom:15px;">
        <div id="profileAvatar" style="width:120px; height:120px; border-radius:50%; background:linear-gradient(135deg, #FFD700, #FFA500); margin:0 auto; display:flex; align-items:center; justify-content:center; font-size:48px; cursor:pointer; border:3px solid rgba(255,215,0,0.5); background-size:cover; background-position:center; background-repeat:no-repeat; position:relative;" title="Click to upload profile picture">
          <span id="profileAvatarEmoji" style="display:block;">ğŸ‘¤</span>
          <button id="removePfpBtn" style="display:none; position:absolute; top:-5px; right:-5px; width:28px; height:28px; border-radius:50%; background:rgba(255,0,0,0.8); border:2px solid rgba(255,255,255,0.9); color:white; cursor:pointer; font-size:14px; font-weight:bold; z-index:10;" title="Remove photo">&times;</button>
        </div>
        <input type="file" id="profilePictureInput" accept="image/*" style="display:none;">
        <div style="display:flex; gap:8px; justify-content:center; margin-top:10px;">
          <button id="uploadPfpBtn" style="padding:8px 16px; background:rgba(255,215,0,0.1); border:1px solid rgba(255,215,0,0.3); border-radius:8px; color:#FFD700; cursor:pointer; font-size:12px;"><i class="fas fa-camera"></i> Upload Photo</button>
        </div>
      </div>
      <input type="text" id="profileUsername" placeholder="Enter your username..." style="width:100%; padding:10px; border-radius:8px; border:1px solid rgba(255,215,0,0.2); background:rgba(255,255,255,0.05); color:rgba(255,255,255,0.9); margin-bottom:10px; font-size:16px; font-weight:500;" required>
      <input type="text" id="profileStatus" placeholder="Set your status message (optional)..." style="width:100%; padding:10px; border-radius:8px; border:1px solid rgba(255,215,0,0.2); background:rgba(255,255,255,0.05); color:rgba(255,255,255,0.9); margin-bottom:10px;">
      <button id="saveProfileBtn" style="width:100%; padding:12px; background:rgba(255,215,0,0.2); border:1px solid rgba(255,215,0,0.4); border-radius:8px; color:#FFD700; cursor:pointer; font-weight:500; margin-bottom:15px;"><i class="fas fa-save"></i> Save Profile</button>
      <div id="activityHistory" style="margin-top:20px; text-align:left;">
        <h3 style="color:#FFD700; margin-bottom:15px;">Activity History</h3>
        <div id="activityList" style="max-height:200px; overflow-y:auto;"></div>
      </div>
    </div>
  </div>
</div>

<!-- ================ Leaderboard Modal ================ -->
<div id="leaderboardModal" style="display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.85); backdrop-filter:blur(10px); z-index:16000; align-items:center; justify-content:center;">
  <div style="width:min(800px, 95%); max-height:80%; overflow-y:auto; background:rgba(15,15,25,0.95); backdrop-filter:blur(30px); border-radius:24px; padding:30px; box-shadow:0 25px 60px rgba(0,0,0,0.5); border:1px solid rgba(255,215,0,0.2); color:rgba(255,255,255,0.9);">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:24px; padding-bottom:16px; border-bottom:1px solid rgba(255,215,0,0.1);">
      <h2 style="margin:0; color:#FFD700; font-weight:600; font-size:20px;"><i class="fas fa-medal"></i> Leaderboard</h2>
      <button id="closeLeaderboardBtn" style="border:none; background:rgba(255,215,0,0.1); color:#FFD700; font-size:20px; cursor:pointer; width:38px; height:38px; border-radius:12px; transition:all 0.3s ease; border:1px solid rgba(255,215,0,0.2);">&times;</button>
    </div>
    <div style="display:flex; gap:10px; margin-bottom:20px;">
      <button class="leaderboardTab" data-tab="chatters" style="flex:1; padding:10px; background:rgba(255,215,0,0.1); border:1px solid rgba(255,215,0,0.3); border-radius:8px; color:#FFD700; cursor:pointer;">Top Chatters</button>
      <button class="leaderboardTab" data-tab="active" style="flex:1; padding:10px; background:rgba(255,255,255,0.05); border:1px solid rgba(255,215,0,0.2); border-radius:8px; color:rgba(255,255,255,0.7); cursor:pointer;">Most Active</button>
      <button class="leaderboardTab" data-tab="achievements" style="flex:1; padding:10px; background:rgba(255,255,255,0.05); border:1px solid rgba(255,215,0,0.2); border-radius:8px; color:rgba(255,255,255,0.7); cursor:pointer;">Achievements</button>
      <button class="leaderboardTab" data-tab="stats" style="flex:1; padding:10px; background:rgba(255,255,255,0.05); border:1px solid rgba(255,215,0,0.2); border-radius:8px; color:rgba(255,255,255,0.7); cursor:pointer;">Daily/Weekly</button>
    </div>
    <div id="leaderboardContent"></div>
  </div>
</div>

<!-- ================ Friends System (Full Featured UI) ================ -->
<div id="friendsModal" class="friends-full-modal" style="display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.96); backdrop-filter:blur(20px); z-index:16000; overflow-y:auto;">
  <div class="friends-container">
    <!-- Header Section -->
    <div class="friends-header-section">
      <div class="friends-header-content">
        <div class="friends-header-title">
          <div class="friends-icon-wrapper">
            <i class="fas fa-user-friends"></i>
          </div>
          <div>
            <h1 class="friends-main-title">Friends</h1>
            <p class="friends-subtitle">Connect, chat, and stay in touch</p>
          </div>
        </div>
        <button id="closeFriendsBtn" class="friends-close-button">
          <i class="fas fa-times"></i>
        </button>
      </div>
    </div>

    <!-- Tabs Navigation -->
    <div class="friends-tabs-container">
      <button class="friends-tab-btn active" data-tab="friends">
        <i class="fas fa-users"></i>
        <span>My Friends</span>
        <span class="friends-badge" id="friendsCountBadge">0</span>
      </button>
      <button class="friends-tab-btn" data-tab="requests">
        <i class="fas fa-user-plus"></i>
        <span>Requests</span>
        <span class="friends-badge friends-badge-alert" id="requestsCountBadge" style="display:none;">0</span>
      </button>
      <button class="friends-tab-btn" data-tab="search">
        <i class="fas fa-search"></i>
        <span>Find Friends</span>
      </button>
      <button class="friends-tab-btn" data-tab="blocked">
        <i class="fas fa-ban"></i>
        <span>Blocked</span>
        <span class="friends-badge" id="blockedCountBadge" style="display:none;">0</span>
      </button>
    </div>

    <!-- Tab Content Areas -->
    <div class="friends-content-wrapper">
      <!-- Friends Tab -->
      <div id="friendsTabContent" class="friends-tab-panel active">
        <div class="friends-toolbar">
          <div class="friends-search-box">
            <i class="fas fa-search"></i>
            <input type="text" id="filterFriendsInput" placeholder="Search your friends..." class="friends-search-input">
          </div>
          <select id="friendsSortSelect" class="friends-sort-select">
            <option value="online">ğŸŸ¢ Online First</option>
            <option value="name">ğŸ‘¤ Name (A-Z)</option>
            <option value="recent">ğŸ• Recently Active</option>
          </select>
        </div>
        <div id="friendsList" class="friends-grid-container"></div>
      </div>

      <!-- Requests Tab -->
      <div id="requestsTabContent" class="friends-tab-panel">
        <div class="requests-split-view">
          <div class="requests-column">
            <div class="requests-column-header">
              <i class="fas fa-paper-plane"></i>
              <h3>Sent Requests</h3>
            </div>
            <div id="sentRequestsList" class="requests-list"></div>
          </div>
          <div class="requests-column">
            <div class="requests-column-header">
              <i class="fas fa-inbox"></i>
              <h3>Received Requests</h3>
            </div>
            <div id="receivedRequestsList" class="requests-list"></div>
          </div>
        </div>
      </div>

      <!-- Search Tab -->
      <div id="searchTabContent" class="friends-tab-panel">
        <div class="friends-search-header">
          <div class="friends-search-box-large">
            <i class="fas fa-search"></i>
            <input type="text" id="searchFriendsInput" placeholder="Search by username..." class="friends-search-input-large">
            <button class="friends-search-clear" id="clearSearchBtn" style="display:none;">
              <i class="fas fa-times"></i>
            </button>
          </div>
        </div>
        <div id="searchResults" class="friends-grid-container"></div>
      </div>

      <!-- Blocked Tab -->
      <div id="blockedTabContent" class="friends-tab-panel">
        <div id="blockedList" class="friends-grid-container"></div>
      </div>
    </div>
  </div>
</div>

<!-- ================ Polls Modal ================ -->
<div id="pollsModal" style="display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.85); backdrop-filter:blur(10px); z-index:16000; align-items:center; justify-content:center;">
  <div style="width:min(700px, 95%); max-height:80%; overflow-y:auto; background:rgba(15,15,25,0.95); backdrop-filter:blur(30px); border-radius:24px; padding:30px; box-shadow:0 25px 60px rgba(0,0,0,0.5); border:1px solid rgba(255,215,0,0.2); color:rgba(255,255,255,0.9);">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:24px; padding-bottom:16px; border-bottom:1px solid rgba(255,215,0,0.1);">
      <h2 style="margin:0; color:#FFD700; font-weight:600; font-size:20px;"><i class="fas fa-poll"></i> Polls</h2>
      <button id="closePollsBtn" style="border:none; background:rgba(255,215,0,0.1); color:#FFD700; font-size:20px; cursor:pointer; width:38px; height:38px; border-radius:12px; transition:all 0.3s ease; border:1px solid rgba(255,215,0,0.2);">&times;</button>
    </div>
    <button id="createPollBtn" style="width:100%; padding:12px; background:rgba(255,215,0,0.1); border:1px solid rgba(255,215,0,0.3); border-radius:8px; color:#FFD700; cursor:pointer; margin-bottom:20px; font-weight:500;"><i class="fas fa-plus"></i> Create New Poll</button>
    <div id="pollsList"></div>
    <div id="createPollForm" style="display:none; margin-top:20px; padding:20px; background:rgba(255,255,255,0.05); border-radius:12px;">
      <input type="text" id="pollQuestion" placeholder="Poll question..." style="width:100%; padding:10px; border-radius:8px; border:1px solid rgba(255,215,0,0.2); background:rgba(255,255,255,0.05); color:rgba(255,255,255,0.9); margin-bottom:10px;">
      <div id="pollOptions">
        <input type="text" class="pollOption" placeholder="Option 1" style="width:100%; padding:8px; border-radius:6px; border:1px solid rgba(255,215,0,0.2); background:rgba(255,255,255,0.05); color:rgba(255,255,255,0.9); margin-bottom:8px;">
        <input type="text" class="pollOption" placeholder="Option 2" style="width:100%; padding:8px; border-radius:6px; border:1px solid rgba(255,215,0,0.2); background:rgba(255,255,255,0.05); color:rgba(255,255,255,0.9); margin-bottom:8px;">
      </div>
      <button id="addPollOptionBtn" style="padding:8px 15px; background:rgba(255,215,0,0.1); border:1px solid rgba(255,215,0,0.3); border-radius:6px; color:#FFD700; cursor:pointer; margin-bottom:10px;"><i class="fas fa-plus"></i> Add Option</button>
      <div style="display:flex; gap:10px;">
        <button id="submitPollBtn" style="flex:1; padding:10px; background:rgba(255,215,0,0.2); border:1px solid rgba(255,215,0,0.4); border-radius:8px; color:#FFD700; cursor:pointer; font-weight:500;">Create Poll</button>
        <button id="cancelPollBtn" style="flex:1; padding:10px; background:rgba(255,255,255,0.05); border:1px solid rgba(255,215,0,0.2); border-radius:8px; color:rgba(255,255,255,0.7); cursor:pointer;">Cancel</button>
      </div>
    </div>
  </div>
</div>

<!-- ================ File Sharing Modal ================ -->
<div id="filesModal" style="display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.85); backdrop-filter:blur(10px); z-index:16000; align-items:center; justify-content:center;">
  <div style="width:min(800px, 95%); max-height:80%; overflow-y:auto; background:rgba(15,15,25,0.95); backdrop-filter:blur(30px); border-radius:24px; padding:30px; box-shadow:0 25px 60px rgba(0,0,0,0.5); border:1px solid rgba(255,215,0,0.2); color:rgba(255,255,255,0.9);">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:24px; padding-bottom:16px; border-bottom:1px solid rgba(255,215,0,0.1);">
      <h2 style="margin:0; color:#FFD700; font-weight:600; font-size:20px;"><i class="fas fa-folder-open"></i> File Sharing</h2>
      <button id="closeFilesBtn" style="border:none; background:rgba(255,215,0,0.1); color:#FFD700; font-size:20px; cursor:pointer; width:38px; height:38px; border-radius:12px; transition:all 0.3s ease; border:1px solid rgba(255,215,0,0.2);">&times;</button>
    </div>
    <div style="margin-bottom:20px; padding:20px; background:rgba(255,255,255,0.05); border-radius:12px; border:2px dashed rgba(255,215,0,0.3); text-align:center;">
      <input type="file" id="fileUploadInput" multiple style="display:none;">
      <button id="uploadFileBtn" style="padding:12px 24px; background:rgba(255,215,0,0.1); border:1px solid rgba(255,215,0,0.3); border-radius:8px; color:#FFD700; cursor:pointer; font-weight:500;"><i class="fas fa-upload"></i> Upload Files</button>
      <p style="margin:10px 0 0 0; font-size:12px; color:rgba(255,255,255,0.6);">Drag and drop files here or click to browse</p>
    </div>
    <div id="filesList" style="display:grid; grid-template-columns:repeat(auto-fill, minmax(150px, 1fr)); gap:15px;"></div>
  </div>
</div>

<!-- ================ YouTube Video Watcher Modal ================ -->
<div id="youtubeWatcherModal" style="display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.9); backdrop-filter:blur(15px); z-index:17000; align-items:center; justify-content:center;">
  <div class="youtube-modal-content" style="width:min(600px, 95%); background:rgba(15,15,25,0.98); backdrop-filter:blur(30px); border-radius:24px; padding:40px; box-shadow:0 25px 60px rgba(0,0,0,0.7); border:2px solid rgba(255,0,0,0.3); color:rgba(255,255,255,0.9); position:relative;">
    <button id="closeYoutubeWatcherBtn" style="position:absolute; top:15px; right:15px; border:none; background:rgba(255,0,0,0.2); color:#ff0000; font-size:24px; cursor:pointer; width:40px; height:40px; border-radius:12px; transition:all 0.3s ease; border:1px solid rgba(255,0,0,0.3); display:flex; align-items:center; justify-content:center;">&times;</button>
    
    <div style="text-align:center; margin-bottom:30px;">
      <i class="fab fa-youtube" style="font-size:64px; color:#ff0000; margin-bottom:15px; display:block; text-shadow:0 0 20px rgba(255,0,0,0.5);"></i>
      <h2 style="margin:0; color:#ffffff; font-weight:700; font-size:28px; text-shadow:0 2px 10px rgba(0,0,0,0.5); letter-spacing:1px;">YouTube Video Watcher</h2>
      <p style="margin:10px 0 0 0; color:rgba(255,255,255,0.7); font-size:16px;">Watch any YouTube video unblocked</p>
            </div>

    <div style="margin-bottom:25px;">
      <label style="display:block; margin-bottom:12px; color:#FFD700; font-weight:600; font-size:16px;">
        <i class="fas fa-link" style="margin-right:8px;"></i>Enter YouTube URL
      </label>
      <input type="text" id="youtubeUrlInput" placeholder="https://www.youtube.com/watch?v=dQw4w9WgXcQ" style="width:100%; padding:16px 20px; border-radius:12px; border:2px solid rgba(255,0,0,0.3); background:rgba(255,255,255,0.05); color:rgba(255,255,255,0.9); font-size:16px; transition:all 0.3s ease; box-sizing:border-box; font-family:'Inter', sans-serif;">
      <p style="margin:10px 0 0 0; font-size:13px; color:rgba(255,255,255,0.5); font-style:italic;">
        <i class="fas fa-info-circle" style="margin-right:6px;"></i>Example: https://www.youtube.com/watch?v=VIDEO_ID
      </p>
  </div>

    <button id="watchYoutubeBtn" style="width:100%; padding:16px; background:linear-gradient(135deg, #ff0000, #cc0000); border:none; border-radius:12px; color:#ffffff; cursor:pointer; font-weight:700; font-size:18px; transition:all 0.3s ease; box-shadow:0 4px 15px rgba(255,0,0,0.4); text-transform:uppercase; letter-spacing:1px;">
      <i class="fas fa-play" style="margin-right:10px;"></i>Watch Video
            </button>

    <div style="margin-top:20px; padding:15px; background:rgba(255,0,0,0.1); border-radius:10px; border-left:4px solid #ff0000;">
      <p style="margin:0; font-size:13px; color:rgba(255,255,255,0.7); line-height:1.6;">
        <i class="fas fa-shield-alt" style="margin-right:8px; color:#ff0000;"></i>
        <strong>Privacy Note:</strong> Videos will open in a new tab using an unblocked domain for your convenience.
      </p>
                        </div>
                            </div>
                        </div>

<!-- ====================================================================== -->

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
<script src="script.js"></script>

</body>
</html>
